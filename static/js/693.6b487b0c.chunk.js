"use strict";(self.webpackChunksamurai_way=self.webpackChunksamurai_way||[]).push([[693],{4693:function(e,r,n){n.r(r),n.d(r,{default:function(){return m}});var s=n(9439),t=n(2791),a="chatPage_avatar__1tL0z",c="chatPage_messages__6C1lp",i=n(9201),u=n(7309),l=n(4359),o=n(1076),d=n(8687),h=n(184),f=function(){var e=(0,d.v9)((function(e){return e.chat.status})),r=(0,l.T)();return(0,t.useEffect)((function(){return r((0,o.WE)()),function(){r((0,o.R7)())}}),[r]),(0,h.jsxs)("div",{children:["error"===e&&(0,h.jsx)("div",{children:"Error please refresh page "}),(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(v,{}),(0,h.jsx)(j,{})]})]})},v=function(){var e=(0,t.useRef)(null),r=(0,d.v9)((function(e){return e.chat.messages})),n=(0,t.useState)(!0),a=(0,s.Z)(n,2),i=a[0],u=a[1];return(0,t.useEffect)((function(){var r;i&&(null===(r=e.current)||void 0===r||r.scrollIntoView({behavior:"smooth"}))}),[r,i]),(0,h.jsxs)("div",{className:c,onScroll:function(e){var r=e.currentTarget;Math.abs(r.scrollHeight-r.scrollTop-r.clientHeight)<300?!i&&u(!0):i&&u(!1)},children:[r.map((function(e,r){return(0,h.jsx)(x,{message:e},e.id)})),(0,h.jsx)("div",{ref:e})]})},x=t.memo((function(e){var r=e.message;return(0,h.jsxs)("div",{children:[(0,h.jsx)(i.Z,{src:r.photo,className:a,preview:!1}),(0,h.jsx)("b",{children:r.userName}),(0,h.jsx)("br",{}),r.message,(0,h.jsx)("hr",{})]})})),j=function(){var e=(0,t.useState)(""),r=(0,s.Z)(e,2),n=r[0],a=r[1],c=(0,l.T)(),i=(0,d.v9)((function(e){return e.chat.status}));return(0,h.jsxs)("div",{children:[(0,h.jsx)("div",{children:(0,h.jsx)("textarea",{onChange:function(e){a(e.currentTarget.value)},value:n})}),(0,h.jsx)("div",{children:(0,h.jsx)(u.Z,{disabled:"ready"!==i,onClick:function(){n&&(c((0,o.bG)(n)),a(""))},children:"Send"})})]})},m=function(){return(0,h.jsx)("div",{children:(0,h.jsx)(f,{})})}}}]);
//# sourceMappingURL=693.6b487b0c.chunk.js.map