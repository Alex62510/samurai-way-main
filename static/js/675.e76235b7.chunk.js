"use strict";(self.webpackChunksamurai_way=self.webpackChunksamurai_way||[]).push([[675],{5675:function(e,s,t){t.r(s),t.d(s,{default:function(){return ee}});var n=t(1413),o=t(5671),r=t(3144),i=t(136),a=t(1129),c=t(2791),u="Profile_content__5BHrx",l=t(9439),d="ProfileInfo_descriptionBlock__yBMnf",p="ProfileInfo_avatarPhoto__aylis",h="ProfileInfo_contact__Y-JMG",f=t(178),m=t(184),x=function(e){var s=(0,c.useState)(!1),t=(0,l.Z)(s,2),n=t[0],o=t[1],r=(0,c.useState)(e.status),i=(0,l.Z)(r,2),a=i[0],u=i[1];(0,c.useEffect)((function(){u(e.status)}),[e.status]);return(0,m.jsx)("div",{children:n?(0,m.jsx)("div",{children:(0,m.jsx)("input",{onChange:function(e){u(e.currentTarget.value)},value:a,autoFocus:!0,onBlur:function(){o(!1),e.updateStatus(a)}})}):(0,m.jsx)("div",{children:(0,m.jsx)("span",{onDoubleClick:function(){o(!0)},children:e.status||"-----"})})})},j=t(2027),v=t(6139),b=t(704),P=t(1117),g=t(9234),_=function(e){var s=e.profile,t=e.saveProfile,n=e.setEditMode;return(0,m.jsx)("div",{children:(0,m.jsx)(k,{profile:s,onSubmit:function(e){t(e).then((function(){n(!1)})),console.log(e)},initialValues:s})})},k=(0,b.Z)({form:"ProfileEdit"})((function(e){var s=e.handleSubmit,t=e.profile,n=e.error,o=t.contacts&&Object.entries(t.contacts);return(0,m.jsxs)("form",{onSubmit:s,children:[(0,m.jsx)("div",{children:(0,m.jsx)("button",{onClick:function(){var e,s;e="reachGoal",s="EditButtonClick",window.ym(95208419,e,s)},children:"save"})}),n&&(0,m.jsx)("div",{className:g.Z.formSummaryError,children:n}),(0,m.jsxs)("div",{children:[(0,m.jsx)("b",{children:"Full name: "}),(0,m.jsx)(v.Z,{component:P.I,name:"fullName",placeholder:"fullName"})]}),(0,m.jsxs)("div",{children:[(0,m.jsx)("b",{children:"Looking for a job: "}),(0,m.jsx)(v.Z,{component:P.I,name:"LookingForAJob",placeholder:"Look job",type:"checkbox"})]}),(0,m.jsxs)("div",{children:[(0,m.jsx)("b",{children:"My professional skills: "}),(0,m.jsx)(v.Z,{component:P.K,name:"lookingForAJobDescription",placeholder:"Looking for a job description"})]}),(0,m.jsxs)("div",{children:[(0,m.jsx)("b",{children:"About me: "}),(0,m.jsx)(v.Z,{component:P.K,name:"aboutMe",placeholder:"AboutMe"})]}),(0,m.jsx)("b",{children:" Contacts: "}),(0,m.jsx)("div",{children:(0,m.jsx)("b",{children:null===o||void 0===o?void 0:o.map((function(e,s){return(0,m.jsxs)("div",{children:[(0,m.jsx)("div",{className:h,children:"".concat(e[0],":")}),(0,m.jsx)(v.Z,{component:P.I,name:"contacts."+e[0],placeholder:e[0]})]},s)}))})})]})})),C=function(e){var s=e.contacts,t=s&&Object.entries(s);return(0,m.jsx)("div",{children:null===t||void 0===t?void 0:t.map((function(e,s){return(0,m.jsx)("div",{children:(0,m.jsx)("div",{className:h,children:"".concat(e[0],": ").concat(e[1]?e[1]:"")})},s)}))})};var S=function(e){var s=e.profile,t=e.isOwner,n=e.changeData;return(0,m.jsxs)("div",{children:[t&&(0,m.jsxs)("div",{children:[" ",(0,m.jsx)("button",{onClick:n,children:"EditData"})]}),(0,m.jsxs)("div",{children:[(0,m.jsx)("b",{children:" Full name:"})," ",s.fullName]}),(0,m.jsxs)("div",{children:[(0,m.jsx)("b",{children:"Looking for a job: "}),s.lookingForAJob?"yes":"no"]}),(0,m.jsxs)("div",{children:[(0,m.jsx)("b",{children:"Professionals skills: "}),s.lookingForAJobDescription]}),(0,m.jsxs)("div",{children:[(0,m.jsx)("b",{children:" About me: "})," ",s.aboutMe]}),(0,m.jsx)("b",{children:" Contacts: "})," ",(0,m.jsx)(C,{contacts:s.contacts})]})},w=function(e){var s=(0,c.useState)(!1),t=(0,l.Z)(s,2),n=t[0],o=t[1];return(0,m.jsx)("div",{children:e.profile?(0,m.jsxs)("div",{children:[(0,m.jsx)("div",{children:(0,m.jsx)("img",{src:"https://wonder-day.com/wp-content/uploads/2020/04/wonder-day-images-rainbow-37-1024x576.jpg"})}),(0,m.jsxs)("div",{className:d,children:[(0,m.jsx)("img",{src:e.profile.photos.large||j,className:p}),e.isOwner&&(0,m.jsx)("input",{type:"file",onChange:function(s){s.target.files&&s.target.files.length&&e.savePhoto(s.target.files[0])}}),(0,m.jsx)(x,{status:e.status,updateStatus:e.updateStatus}),n?(0,m.jsx)(_,{setEditMode:o,profile:e.profile,saveProfile:e.saveProfile}):(0,m.jsx)(S,{profile:e.profile,isOwner:e.isOwner,changeData:function(){o(!0)}})]})]}):(0,m.jsx)(f.Z,{})})},Z=t(3433),y="MyPosts_postsBlock__P5+78",A="MyPosts_posts__v9TvF",F="Post_item__RQ6m6",N=function(e){return(0,m.jsxs)("div",{className:F,children:[(0,m.jsx)("img",{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcShwIXO7TuAocUZF1Jq5mJuRs78wGsf3Qe5-w&usqp=CAU"}),e.message,(0,m.jsxs)("div",{children:[(0,m.jsx)("span",{children:"likes"}),e.likesCount]})]})},T=t(3366),I=t(4578),M=t(2007),D=t.n(M),O=t(8286),E=function(e){function s(s){var t;if(t=e.call(this,s)||this,!s._reduxForm)throw new Error("Form must be inside a component decorated with reduxForm()");return t}(0,I.Z)(s,e);var t=s.prototype;return t.componentDidMount=function(){this.props._reduxForm.registerInnerOnSubmit(this.props.onSubmit)},t.componentDidUpdate=function(e){this.props.onSubmit!==e.onSubmit&&this.props._reduxForm.registerInnerOnSubmit(this.props.onSubmit)},t.render=function(){var e=this.props,s=(e._reduxForm,(0,T.Z)(e,["_reduxForm"]));return c.createElement("form",s)},s}(c.Component);E.propTypes={onSubmit:D().func.isRequired,_reduxForm:D().object};var G=(0,O.V5)(E),U=t(3079),B=(0,U.D)(20),J=c.memo((function(e){console.log("render");return(0,m.jsxs)("div",{className:y,children:[(0,m.jsx)("h3",{children:"My posts"}),(0,m.jsx)(L,{onSubmit:function(s){e.addPost(s.newPostText)}}),(0,m.jsx)("div",{className:A,children:(0,Z.Z)(e.posts).reverse().map((function(e,s){return(0,m.jsx)(N,{message:e.message,likesCount:e.likesCount},s)}))})]})})),L=(0,b.Z)({form:"ProfileAddNewPostsForm"})((function(e){return(0,m.jsxs)(G,{onSubmit:e.handleSubmit,children:[(0,m.jsx)("div",{children:(0,m.jsx)(v.Z,{name:"newPostText",component:P.K,validate:[U.C,B],placeholder:"post massage"})}),(0,m.jsx)("div",{children:(0,m.jsx)("button",{children:"Add post"})})]})})),q=J,K=t(81),R=t(8687),$=(0,R.$j)((function(e){return{posts:e.profilePage.posts}}),(function(e){return{addPost:function(s){e((0,K.Pi)(s))}}}))(q),z=t(4359),Q=function(e){return e.profilePage.status},V=function(e){(0,z.T)();var s=(0,R.v9)(Q);return(0,m.jsxs)("div",{className:u,children:[(0,m.jsx)(w,{profile:e.profile,status:s,updateStatus:e.updateStatus,savePhoto:e.savePhoto,isOwner:e.isOwner,saveProfile:e.saveProfile}),(0,m.jsx)($,{})]})},H=t(9271),X=t(2163),Y=t(7781),W=function(e){(0,i.Z)(t,e);var s=(0,a.Z)(t);function t(){return(0,o.Z)(this,t),s.apply(this,arguments)}return(0,r.Z)(t,[{key:"refreshProfile",value:function(){var e=Number(this.props.match.params.userId);e||(e=Number(this.props.autorazedUserId))||this.props.history.push("/login"),this.props.ProfileGetTC(e),this.props.GetStatusTC(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,s,t){this.props.match.params.userId!==e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return(0,m.jsx)("div",{className:u,children:(0,m.jsx)(V,(0,n.Z)((0,n.Z)({},this.props),{},{isOwner:!this.props.match.params.userId,profile:this.props.profile,updateStatus:this.props.UpdateStatusTC,savePhoto:this.props.savePhotoTC,saveProfile:this.props.saveProfileTC}))})}}]),t}(c.Component),ee=(0,Y.qC)((0,R.$j)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,autorazedUserId:e.auth.userID,isAuth:e.auth.isAuth}}),{ProfileGetTC:K.mh,GetStatusTC:K.fB,UpdateStatusTC:K.K,savePhotoTC:K.Tw,saveProfileTC:K.Ms}),X.e,H.EN)(W)},2163:function(e,s,t){t.d(s,{e:function(){return l}});var n=t(1413),o=t(5987),r=(t(2791),t(9271)),i=t(8687),a=t(184),c=["isAuth"],u=function(e){return{isAuth:e.auth.isAuth}};function l(e){return(0,i.$j)(u)((function(s){var t=s.isAuth,i=(0,o.Z)(s,c);return t?(0,a.jsx)(e,(0,n.Z)({},i)):(0,a.jsx)(r.l_,{to:"/Login"})}))}}}]);
//# sourceMappingURL=675.e76235b7.chunk.js.map