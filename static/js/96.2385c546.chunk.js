"use strict";(self.webpackChunksamurai_way=self.webpackChunksamurai_way||[]).push([[96],{3096:function(t,s,e){e.r(s),e.d(s,{default:function(){return z}});var n=e(8683),r=e(5671),o=e(3144),i=e(136),u=e(5716),a=e(2791),c={},p="ProfileInfo_descriptionBlock__yBMnf",d=e(178),l=e(885),h=e(184),f=function(t){var s=(0,a.useState)(!1),e=(0,l.Z)(s,2),n=e[0],r=e[1],o=(0,a.useState)(t.status),i=(0,l.Z)(o,2),u=i[0],c=i[1];(0,a.useEffect)((function(){c(t.status)}),[t.status]);return(0,h.jsx)("div",{children:n?(0,h.jsx)("div",{children:(0,h.jsx)("input",{onChange:function(t){c(t.currentTarget.value)},value:u,autoFocus:!0,onBlur:function(){r(!1),t.updateStatus(u)}})}):(0,h.jsx)("div",{children:(0,h.jsx)("span",{onDoubleClick:function(){r(!0)},children:t.status||"-----"})})})};var m=function(t){return(0,h.jsx)("div",{children:t.profile?(0,h.jsxs)("div",{children:[(0,h.jsx)("div",{children:(0,h.jsx)("img",{src:"https://wonder-day.com/wp-content/uploads/2020/04/wonder-day-images-rainbow-37-1024x576.jpg"})}),(0,h.jsxs)("div",{className:p,children:[(0,h.jsx)("img",{src:t.profile.photos.large}),(0,h.jsx)(f,{status:t.status,updateStatus:t.updateStatus}),(0,h.jsxs)("div",{children:["Full name: ",t.profile.fullName]}),(0,h.jsxs)("div",{children:["contacts:",t.profile.contacts.github]})]})]}):(0,h.jsx)(d.Z,{})})},x=e(2982),j="MyPosts_postsBlock__P5+78",v="MyPosts_posts__v9TvF",g="Post_item__RQ6m6",S=function(t){return(0,h.jsxs)("div",{className:g,children:[(0,h.jsx)("img",{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcShwIXO7TuAocUZF1Jq5mJuRs78wGsf3Qe5-w&usqp=CAU"}),t.message,(0,h.jsxs)("div",{children:[(0,h.jsx)("span",{children:"likes"}),t.likesCount]})]})},b=e(3366),_=e(4578),C=e(2007),w=e.n(C),P=e(8286),Z=function(t){function s(s){var e;if(e=t.call(this,s)||this,!s._reduxForm)throw new Error("Form must be inside a component decorated with reduxForm()");return e}(0,_.Z)(s,t);var e=s.prototype;return e.componentDidMount=function(){this.props._reduxForm.registerInnerOnSubmit(this.props.onSubmit)},e.componentDidUpdate=function(t){this.props.onSubmit!==t.onSubmit&&this.props._reduxForm.registerInnerOnSubmit(this.props.onSubmit)},e.render=function(){var t=this.props,s=(t._reduxForm,(0,b.Z)(t,["_reduxForm"]));return a.createElement("form",s)},s}(a.Component);Z.propTypes={onSubmit:w().func.isRequired,_reduxForm:w().object};var y=(0,P.V5)(Z),k=e(6139),F=e(704),N=e(3079),T=e(1117),A=(0,N.D)(20),I=a.memo((function(t){console.log("render");return(0,h.jsxs)("div",{className:j,children:[(0,h.jsx)("h3",{children:"My posts"}),(0,h.jsx)(U,{onSubmit:function(s){t.addPost(s.newPostText)}}),(0,h.jsx)("div",{className:v,children:(0,x.Z)(t.posts).reverse().map((function(t,s){return(0,h.jsx)(S,{message:t.message,likesCount:t.likesCount},s)}))})]})})),U=(0,F.Z)({form:"ProfileAddNewPostsForm"})((function(t){return(0,h.jsxs)(y,{onSubmit:t.handleSubmit,children:[(0,h.jsx)("div",{children:(0,h.jsx)(k.Z,{name:"newPostText",component:T.K,validate:[N.C,A],placeholder:"post massage"})}),(0,h.jsx)("div",{children:(0,h.jsx)("button",{children:"Add post"})})]})})),D=I,G=e(81),M=e(8687),q=(0,M.$j)((function(t){return{posts:t.profilePage.posts}}),(function(t){return{addPost:function(s){t((0,G.Pi)(s))}}}))(D),B=function(t){return(0,h.jsxs)("div",{className:c.content,children:[(0,h.jsx)(m,{profile:t.profile,status:t.status,updateStatus:t.updateStatus}),(0,h.jsx)(q,{})]})},E=e(9271),O=e(2163),R=e(7781),$=function(t){(0,i.Z)(e,t);var s=(0,u.Z)(e);function e(){return(0,r.Z)(this,e),s.apply(this,arguments)}return(0,o.Z)(e,[{key:"componentDidMount",value:function(){var t=Number(this.props.match.params.userId);t||(t=Number(this.props.autorazedUserId))||this.props.history.push("/login"),this.props.ProfileGetTC(t),this.props.GetStatusTC(t)}},{key:"render",value:function(){return(0,h.jsx)("div",{className:c.content,children:(0,h.jsx)(B,(0,n.Z)((0,n.Z)({},this.props),{},{profile:this.props.profile,status:this.props.status,updateStatus:this.props.UpdateStatusTC}))})}}]),e}(a.Component),z=(0,R.qC)((0,M.$j)((function(t){return{profile:t.profilePage.profile,status:t.profilePage.status,autorazedUserId:t.auth.userID,isAuth:t.auth.isAuth}}),{ProfileGetTC:G.mh,GetStatusTC:G.fB,UpdateStatusTC:G.K}),O.e,E.EN)($)},2163:function(t,s,e){e.d(s,{e:function(){return p}});var n=e(8683),r=e(5987),o=(e(2791),e(9271)),i=e(8687),u=e(184),a=["isAuth"],c=function(t){return{isAuth:t.auth.isAuth}};function p(t){return(0,i.$j)(c)((function(s){var e=s.isAuth,i=(0,r.Z)(s,a);return e?(0,u.jsx)(t,(0,n.Z)({},i)):(0,u.jsx)(o.l_,{to:"/Login"})}))}}}]);
//# sourceMappingURL=96.2385c546.chunk.js.map