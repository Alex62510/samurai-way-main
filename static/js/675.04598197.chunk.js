"use strict";(self.webpackChunksamurai_way=self.webpackChunksamurai_way||[]).push([[675],{5675:function(e,s,t){t.r(s),t.d(s,{default:function(){return ne}});var n=t(1413),r=t(5671),o=t(3144),i=t(136),a=t(8557),c=t(2791),u="Profile_content__-kSHn",l=t(9439),d="ProfileInfo_descriptionBlock__e-soB",h="ProfileInfo_avatarPhoto__VkVjr",p="ProfileInfo_contact__5DS+8",f=t(178),m=t(6005),j=t(184),x=function(e){var s=(0,c.useState)(!1),t=(0,l.Z)(s,2),n=t[0],r=t[1],o=(0,c.useState)(e.status),i=(0,l.Z)(o,2),a=i[0],u=i[1];(0,c.useEffect)((function(){u(e.status)}),[e.status]);return(0,j.jsx)("div",{children:n?(0,j.jsx)("div",{children:(0,j.jsx)(m.Z,{onChange:function(e){u(e.currentTarget.value)},value:a,autoFocus:!0,onBlur:function(){r(!1),e.updateStatus(a)}})}):(0,j.jsx)("div",{children:(0,j.jsx)("span",{onDoubleClick:function(){r(!0)},children:e.status||"-----"})})})},v=t(2027),b=t(6139),P=t(704),g=t(1117),k=t(9234),_=function(e){var s=e.profile,t=e.saveProfile,n=e.setEditMode;return(0,j.jsx)("div",{children:(0,j.jsx)(S,{profile:s,onSubmit:function(e){t(e).then((function(){n(!1)})),console.log(e)},initialValues:s})})},S=(0,P.Z)({form:"ProfileEdit"})((function(e){var s=e.handleSubmit,t=e.profile,n=e.error,r=t.contacts&&Object.entries(t.contacts);return(0,j.jsxs)("form",{onSubmit:s,children:[(0,j.jsx)("div",{children:(0,j.jsx)("button",{onClick:function(){var e,s;e="reachGoal",s="EditButtonClick",window.ym(95208419,e,s)},children:"save"})}),n&&(0,j.jsx)("div",{className:k.Z.formSummaryError,children:n}),(0,j.jsxs)("div",{children:[(0,j.jsx)("b",{children:"Full name: "}),(0,j.jsx)(b.Z,{component:g.I,name:"fullName",placeholder:"fullName"})]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("b",{children:"Looking for a job: "}),(0,j.jsx)(b.Z,{component:g.I,name:"LookingForAJob",placeholder:"Look job",type:"checkbox"})]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("b",{children:"My professional skills: "}),(0,j.jsx)(b.Z,{component:g.K,name:"lookingForAJobDescription",placeholder:"Looking for a job description"})]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("b",{children:"About me: "}),(0,j.jsx)(b.Z,{component:g.K,name:"aboutMe",placeholder:"AboutMe"})]}),(0,j.jsx)("b",{children:" Contacts: "}),(0,j.jsx)("div",{children:(0,j.jsx)("b",{children:null===r||void 0===r?void 0:r.map((function(e,s){return(0,j.jsxs)("div",{children:[(0,j.jsx)("div",{className:p,children:"".concat(e[0],":")}),(0,j.jsx)(b.Z,{component:g.I,name:"contacts."+e[0],placeholder:e[0]})]},s)}))})})]})})),Z=function(e){var s=e.contacts,t=s&&Object.entries(s);return(0,j.jsx)("div",{children:null===t||void 0===t?void 0:t.map((function(e,s){return(0,j.jsx)("div",{children:(0,j.jsx)("div",{className:p,children:"".concat(e[0],": ").concat(e[1]?e[1]:"")})},s)}))})},C=t(9201),w=t(7309);var y=function(e){var s=e.profile,t=e.isOwner,n=e.changeData;return(0,j.jsxs)("div",{children:[t&&(0,j.jsx)("div",{children:(0,j.jsx)(w.Z,{onClick:n,children:"EditData"})}),(0,j.jsxs)("div",{children:[(0,j.jsx)("b",{children:" Full name:"})," ",s.fullName]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("b",{children:"Looking for a job: "}),s.lookingForAJob?"yes":"no"]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("b",{children:"Professionals skills: "}),s.lookingForAJobDescription]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("b",{children:" About me: "})," ",s.aboutMe]}),(0,j.jsx)("b",{children:" Contacts: "})," ",(0,j.jsx)(Z,{contacts:s.contacts})]})},A=function(e){var s=(0,c.useState)(!1),t=(0,l.Z)(s,2),n=t[0],r=t[1];return(0,j.jsx)("div",{children:e.profile?(0,j.jsxs)("div",{children:[(0,j.jsx)("div",{children:(0,j.jsx)(C.Z,{preview:!1,src:"https://cdn.pixabay.com/photo/2018/01/17/04/14/industry-3087393_1280.jpg"})}),(0,j.jsxs)("div",{className:d,children:[(0,j.jsx)(C.Z,{preview:!1,src:e.profile.photos.large||v,className:h}),e.isOwner&&(0,j.jsx)("input",{type:"file",onChange:function(s){s.target.files&&s.target.files.length&&e.savePhoto(s.target.files[0])}}),(0,j.jsx)(x,{status:e.status,updateStatus:e.updateStatus}),n?(0,j.jsx)(_,{setEditMode:r,profile:e.profile,saveProfile:e.saveProfile}):(0,j.jsx)(y,{profile:e.profile,isOwner:e.isOwner,changeData:function(){r(!0)}})]})]}):(0,j.jsx)(f.Z,{})})},N=t(3433),F="MyPosts_postsBlock__fuhOX",T="MyPosts_posts__qCqtz",I="Post_item__EH7vn",D=function(e){return(0,j.jsxs)("div",{className:I,children:[(0,j.jsx)(C.Z,{alt:"",src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcShwIXO7TuAocUZF1Jq5mJuRs78wGsf3Qe5-w&usqp=CAU"}),e.message,(0,j.jsxs)("div",{children:[(0,j.jsx)("span",{children:"likes"}),e.likesCount]})]})},O=t(3366),M=t(4578),E=t(2007),U=t.n(E),q=t(8286),G=function(e){function s(s){var t;if(t=e.call(this,s)||this,!s._reduxForm)throw new Error("Form must be inside a component decorated with reduxForm()");return t}(0,M.Z)(s,e);var t=s.prototype;return t.componentDidMount=function(){this.props._reduxForm.registerInnerOnSubmit(this.props.onSubmit)},t.componentDidUpdate=function(e){this.props.onSubmit!==e.onSubmit&&this.props._reduxForm.registerInnerOnSubmit(this.props.onSubmit)},t.render=function(){var e=this.props,s=(e._reduxForm,(0,O.Z)(e,["_reduxForm"]));return c.createElement("form",s)},s}(c.Component);G.propTypes={onSubmit:U().func.isRequired,_reduxForm:U().object};var B=(0,q.V5)(G),J=t(3079),L=(0,J.D)(20),K=c.memo((function(e){return(0,j.jsxs)("div",{className:F,children:[(0,j.jsx)("h3",{children:"My posts"}),(0,j.jsx)(V,{onSubmit:function(s){e.addPost(s.newPostText)}}),(0,j.jsx)("div",{className:T,children:(0,N.Z)(e.posts).reverse().map((function(e,s){return(0,j.jsx)(D,{message:e.message,likesCount:e.likesCount},s)}))})]})})),V=(0,P.Z)({form:"ProfileAddNewPostsForm"})((function(e){return(0,j.jsxs)(B,{onSubmit:e.handleSubmit,children:[(0,j.jsx)("div",{children:(0,j.jsx)(b.Z,{name:"newPostText",component:g.K,validate:[J.C,L],placeholder:"post massage"})}),(0,j.jsx)("div",{children:(0,j.jsx)("button",{children:"Add post"})})]})})),z=K,$=t(81),H=t(8687),R=(0,H.$j)((function(e){return{posts:e.profilePage.posts}}),(function(e){return{addPost:function(s){e((0,$.Pi)(s))}}}))(z),X=t(4359),Q=function(e){return e.profilePage.status},W=function(e){(0,X.T)();var s=(0,H.v9)(Q);return(0,j.jsxs)("div",{className:u,children:[(0,j.jsx)(A,{profile:e.profile,status:s,updateStatus:e.updateStatus,savePhoto:e.savePhoto,isOwner:e.isOwner,saveProfile:e.saveProfile}),(0,j.jsx)(R,{})]})},Y=t(9271),ee=t(2163),se=t(7781),te=function(e){(0,i.Z)(t,e);var s=(0,a.Z)(t);function t(){return(0,r.Z)(this,t),s.apply(this,arguments)}return(0,o.Z)(t,[{key:"refreshProfile",value:function(){var e=Number(this.props.match.params.userId);e||(e=Number(this.props.autorazedUserId))||this.props.history.push("/login"),this.props.ProfileGetTC(e),this.props.GetStatusTC(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,s,t){this.props.match.params.userId!==e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return(0,j.jsx)("div",{className:u,children:(0,j.jsx)(W,(0,n.Z)((0,n.Z)({},this.props),{},{isOwner:!this.props.match.params.userId,profile:this.props.profile,updateStatus:this.props.UpdateStatusTC,savePhoto:this.props.savePhotoTC,saveProfile:this.props.saveProfileTC}))})}}]),t}(c.Component),ne=(0,se.qC)((0,H.$j)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,autorazedUserId:e.auth.userID,isAuth:e.auth.isAuth}}),{ProfileGetTC:$.mh,GetStatusTC:$.fB,UpdateStatusTC:$.K,savePhotoTC:$.Tw,saveProfileTC:$.Ms}),ee.e,Y.EN)(te)},2163:function(e,s,t){t.d(s,{e:function(){return l}});var n=t(1413),r=t(5987),o=(t(2791),t(9271)),i=t(8687),a=t(184),c=["isAuth"],u=function(e){return{isAuth:e.auth.isAuth}};function l(e){return(0,i.$j)(u)((function(s){var t=s.isAuth,i=(0,r.Z)(s,c);return t?(0,a.jsx)(e,(0,n.Z)({},i)):(0,a.jsx)(o.l_,{to:"/Login"})}))}}}]);
//# sourceMappingURL=675.04598197.chunk.js.map