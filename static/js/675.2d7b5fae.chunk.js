"use strict";(self.webpackChunksamurai_way=self.webpackChunksamurai_way||[]).push([[675],{5675:function(e,s,t){t.r(s),t.d(s,{default:function(){return te}});var n=t(1413),o=t(5671),r=t(3144),i=t(136),a=t(8557),c=t(2791),u="Profile_content__f2Z0F",l=t(9439),d="ProfileInfo_descriptionBlock__JFwts",h="ProfileInfo_avatarPhoto__kDCFr",p="ProfileInfo_contact__AFRZS",f=t(178),m=t(6005),j=t(184),x=function(e){var s=(0,c.useState)(!1),t=(0,l.Z)(s,2),n=t[0],o=t[1],r=(0,c.useState)(e.status),i=(0,l.Z)(r,2),a=i[0],u=i[1];(0,c.useEffect)((function(){u(e.status)}),[e.status]);return(0,j.jsx)("div",{children:n?(0,j.jsx)("div",{children:(0,j.jsx)(m.Z,{onChange:function(e){u(e.currentTarget.value)},value:a,autoFocus:!0,onBlur:function(){o(!1),e.updateStatus(a)}})}):(0,j.jsx)("div",{children:(0,j.jsx)("span",{onDoubleClick:function(){o(!0)},children:e.status||"-----"})})})},v=t(2027),b=t(6139),P=t(704),g=t(1117),k=t(9234),S=function(e){var s=e.profile,t=e.saveProfile,n=e.setEditMode;return(0,j.jsx)("div",{children:(0,j.jsx)(Z,{profile:s,onSubmit:function(e){t(e).then((function(){n(!1)})),console.log(e)},initialValues:s})})},Z=(0,P.Z)({form:"ProfileEdit"})((function(e){var s=e.handleSubmit,t=e.profile,n=e.error,o=t.contacts&&Object.entries(t.contacts);return(0,j.jsxs)("form",{onSubmit:s,children:[(0,j.jsx)("div",{children:(0,j.jsx)("button",{onClick:function(){var e,s;e="reachGoal",s="EditButtonClick",window.ym(95208419,e,s)},children:"save"})}),n&&(0,j.jsx)("div",{className:k.Z.formSummaryError,children:n}),(0,j.jsxs)("div",{children:[(0,j.jsx)("b",{children:"Full name: "}),(0,j.jsx)(b.Z,{component:g.I,name:"fullName",placeholder:"fullName"})]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("b",{children:"Looking for a job: "}),(0,j.jsx)(b.Z,{component:g.I,name:"LookingForAJob",placeholder:"Look job",type:"checkbox"})]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("b",{children:"My professional skills: "}),(0,j.jsx)(b.Z,{component:g.K,name:"lookingForAJobDescription",placeholder:"Looking for a job description"})]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("b",{children:"About me: "}),(0,j.jsx)(b.Z,{component:g.K,name:"aboutMe",placeholder:"AboutMe"})]}),(0,j.jsx)("b",{children:" Contacts: "}),(0,j.jsx)("div",{children:(0,j.jsx)("b",{children:null===o||void 0===o?void 0:o.map((function(e,s){return(0,j.jsxs)("div",{children:[(0,j.jsx)("div",{className:p,children:"".concat(e[0],":")}),(0,j.jsx)(b.Z,{component:g.I,name:"contacts."+e[0],placeholder:e[0]})]},s)}))})})]})})),_=function(e){var s=e.contacts,t=s&&Object.entries(s);return(0,j.jsx)("div",{children:null===t||void 0===t?void 0:t.map((function(e,s){return(0,j.jsx)("div",{children:(0,j.jsx)("div",{className:p,children:"".concat(e[0],": ").concat(e[1]?e[1]:"")})},s)}))})},C=t(7309);var w=function(e){var s=e.profile,t=e.isOwner,n=e.changeData;return(0,j.jsxs)("div",{children:[t&&(0,j.jsxs)("div",{children:[" ",(0,j.jsx)(C.Z,{onClick:n,children:"EditData"})]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("b",{children:" Full name:"})," ",s.fullName]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("b",{children:"Looking for a job: "}),s.lookingForAJob?"yes":"no"]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("b",{children:"Professionals skills: "}),s.lookingForAJobDescription]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("b",{children:" About me: "})," ",s.aboutMe]}),(0,j.jsx)("b",{children:" Contacts: "})," ",(0,j.jsx)(_,{contacts:s.contacts})]})},y=function(e){var s=(0,c.useState)(!1),t=(0,l.Z)(s,2),n=t[0],o=t[1];return(0,j.jsx)("div",{children:e.profile?(0,j.jsxs)("div",{children:[(0,j.jsx)("div",{children:(0,j.jsx)("img",{src:"https://wonder-day.com/wp-content/uploads/2020/04/wonder-day-images-rainbow-37-1024x576.jpg"})}),(0,j.jsxs)("div",{className:d,children:[(0,j.jsx)("img",{src:e.profile.photos.large||v,className:h}),e.isOwner&&(0,j.jsx)("input",{type:"file",onChange:function(s){s.target.files&&s.target.files.length&&e.savePhoto(s.target.files[0])}}),(0,j.jsx)(x,{status:e.status,updateStatus:e.updateStatus}),n?(0,j.jsx)(S,{setEditMode:o,profile:e.profile,saveProfile:e.saveProfile}):(0,j.jsx)(w,{profile:e.profile,isOwner:e.isOwner,changeData:function(){o(!0)}})]})]}):(0,j.jsx)(f.Z,{})})},F=t(3433),A="MyPosts_postsBlock__8vr8Z",N="MyPosts_posts__NSO9H",T="Post_item__goQh4",I=function(e){return(0,j.jsxs)("div",{className:T,children:[(0,j.jsx)("img",{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcShwIXO7TuAocUZF1Jq5mJuRs78wGsf3Qe5-w&usqp=CAU"}),e.message,(0,j.jsxs)("div",{children:[(0,j.jsx)("span",{children:"likes"}),e.likesCount]})]})},D=t(3366),O=t(4578),M=t(2007),E=t.n(M),U=t(8286),G=function(e){function s(s){var t;if(t=e.call(this,s)||this,!s._reduxForm)throw new Error("Form must be inside a component decorated with reduxForm()");return t}(0,O.Z)(s,e);var t=s.prototype;return t.componentDidMount=function(){this.props._reduxForm.registerInnerOnSubmit(this.props.onSubmit)},t.componentDidUpdate=function(e){this.props.onSubmit!==e.onSubmit&&this.props._reduxForm.registerInnerOnSubmit(this.props.onSubmit)},t.render=function(){var e=this.props,s=(e._reduxForm,(0,D.Z)(e,["_reduxForm"]));return c.createElement("form",s)},s}(c.Component);G.propTypes={onSubmit:E().func.isRequired,_reduxForm:E().object};var J=(0,U.V5)(G),L=t(3079),q=(0,L.D)(20),B=c.memo((function(e){console.log("render");return(0,j.jsxs)("div",{className:A,children:[(0,j.jsx)("h3",{children:"My posts"}),(0,j.jsx)(K,{onSubmit:function(s){e.addPost(s.newPostText)}}),(0,j.jsx)("div",{className:N,children:(0,F.Z)(e.posts).reverse().map((function(e,s){return(0,j.jsx)(I,{message:e.message,likesCount:e.likesCount},s)}))})]})})),K=(0,P.Z)({form:"ProfileAddNewPostsForm"})((function(e){return(0,j.jsxs)(J,{onSubmit:e.handleSubmit,children:[(0,j.jsx)("div",{children:(0,j.jsx)(b.Z,{name:"newPostText",component:g.K,validate:[L.C,q],placeholder:"post massage"})}),(0,j.jsx)("div",{children:(0,j.jsx)("button",{children:"Add post"})})]})})),R=B,$=t(81),z=t(8687),Q=(0,z.$j)((function(e){return{posts:e.profilePage.posts}}),(function(e){return{addPost:function(s){e((0,$.Pi)(s))}}}))(R),V=t(4359),H=function(e){return e.profilePage.status},X=function(e){(0,V.T)();var s=(0,z.v9)(H);return(0,j.jsxs)("div",{className:u,children:[(0,j.jsx)(y,{profile:e.profile,status:s,updateStatus:e.updateStatus,savePhoto:e.savePhoto,isOwner:e.isOwner,saveProfile:e.saveProfile}),(0,j.jsx)(Q,{})]})},W=t(9271),Y=t(2163),ee=t(7781),se=function(e){(0,i.Z)(t,e);var s=(0,a.Z)(t);function t(){return(0,o.Z)(this,t),s.apply(this,arguments)}return(0,r.Z)(t,[{key:"refreshProfile",value:function(){var e=Number(this.props.match.params.userId);e||(e=Number(this.props.autorazedUserId))||this.props.history.push("/login"),this.props.ProfileGetTC(e),this.props.GetStatusTC(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,s,t){this.props.match.params.userId!==e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return(0,j.jsx)("div",{className:u,children:(0,j.jsx)(X,(0,n.Z)((0,n.Z)({},this.props),{},{isOwner:!this.props.match.params.userId,profile:this.props.profile,updateStatus:this.props.UpdateStatusTC,savePhoto:this.props.savePhotoTC,saveProfile:this.props.saveProfileTC}))})}}]),t}(c.Component),te=(0,ee.qC)((0,z.$j)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,autorazedUserId:e.auth.userID,isAuth:e.auth.isAuth}}),{ProfileGetTC:$.mh,GetStatusTC:$.fB,UpdateStatusTC:$.K,savePhotoTC:$.Tw,saveProfileTC:$.Ms}),Y.e,W.EN)(se)},2163:function(e,s,t){t.d(s,{e:function(){return l}});var n=t(1413),o=t(5987),r=(t(2791),t(9271)),i=t(8687),a=t(184),c=["isAuth"],u=function(e){return{isAuth:e.auth.isAuth}};function l(e){return(0,i.$j)(u)((function(s){var t=s.isAuth,i=(0,o.Z)(s,c);return t?(0,a.jsx)(e,(0,n.Z)({},i)):(0,a.jsx)(r.l_,{to:"/Login"})}))}}}]);
//# sourceMappingURL=675.2d7b5fae.chunk.js.map